ROSLIB.DiagnosticsStatus=function(a){"undefined"==typeof a&&(a={}),this.name=a.name,this.message=a.message,this.hardware_id=a.hardware_id,this.values={},this.stamp=a.timestamp;for(var b=0;b<a.values.length;b++)this.values[a.values[b].key]=a.values[b].value},ROSLIB.DiagnosticsStatus.createFromArray=function(a){var b=a.header,c=ROSLIB.Time.fromROSMsg(b);return _.map(a.status,function(a){return new ROSLIB.DiagnosticsStatus({timestamp:c,name:a.name,message:a.message,hardware_id:a.hardware_id,values:a.values})})},ROSLIB.RWTRobotMonitor=function(a){var b=a.diagnostics_agg_topic||"/diagnostics_agg",c=a.ros;this.last_diagnostics_update=null,this.last_time_id=a.last_time_id,this.diagnostics_agg_subscriber=new ROSLIB.Topic({ros:c,name:b,messageType:"diagnostic_msgs/DiagnosticArray"});var d=this;this.diagnostics_agg_subscriber.subscribe(function(a){d.diagnosticsCallback(a)}),setTimeout(function(){d.updateLastTimeString()},1e3)},ROSLIB.RWTRobotMonitor.prototype.diagnosticsCallback=function(a){this.last_diagnostics_update=ROSLIB.Time.now();ROSLIB.DiagnosticsStatus.createFromArray(a)},ROSLIB.RWTRobotMonitor.prototype.updateLastTimeString=function(){var a=this;if(a.last_diagnostics_update){var b=ROSLIB.Time.now(),c=b.substract(a.last_diagnostics_update).toSec();$(a.last_time_id).html(Math.floor(c))}else $(a.last_time_id).html(-1);setTimeout(function(){a.updateLastTimeString()},1e3)};